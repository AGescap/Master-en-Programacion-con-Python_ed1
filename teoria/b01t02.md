# La terminal

La terminal o consola es el punto de entrada de las intarfaces de línea de 
comandos. Este tipo de interfaces presenta algunas ventajas en cuanto a 
productividad sobre las interfaces gráficas aunque el verdadero motivo de 
estudio tiene que ver con la ubicuidad de las mismas: **son la interfaz por 
defecto** de multitud de entornos. Muchas veces **los servidores no incluyen
entorno gráfico**, y tendremos que manipularlos a través de una terminal.

La terminal será, en nuestro caso, parte central del entorno de desarrollo, 
junto con el editor de código y conviene personalizarla para que seamos más 
productivos y eficaces. 

En Mac, podemos acceder a la terminal buscando "Terminal" entre las 
aplicaciones instaladas aunque **durante este curso utilizaremos
[iTerm2](https://www.iterm2.com/)**. La instalarás en breves instantes, por 
el momento abre la terminal por defecto.

1. Busca "Terminal" entre las aplicaciones instaladas en tu Mac y lanza la 
aplicación.

En este capítulo aprenderás a instalar y configurar un entorno de desarrollo
para MacOS pero si ya tienes uno preferido (o con el que te sientas cómodo), 
úsalo. Tan sólo asegúrate que tu entorno cubre las características que 
cubrimos de aquí al final del texto.

* Si tienes problemas siguiendo esta guía, te recomiendo tratar de seguir
la guía [macOS Setup Guide](https://sourabhbajaj.com/mac-setup/).

* Si prefieres configurar Windows, utiliza la guía 
[Setup Windows 10 for Modern/Hipster Development](https://github.com/felixrieseberg/windows-development-environment).

## El _shell_

La terminal es el programa que se encarga de la gestión de texto por pantalla:
entrada y salida. El _shell_ corre dentro de la terminal y se encarga de 
gestionar la ejecución de los programas de línea de comandos, además suele 
ofrecer el **lenguaje de programación integrado,
[bash](https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29)**.

### Configuración del sistema

Antes de comenzar a personalizar nuestro entorno de desarrollo, tendremos que
configurar MacOS. Lo haremos a través de la interfaz de línea de comandos 
de XCode. Para ello...

1. Abre una terminal y ejecuta el siguiente comando (**ignora el símbolo 
de dólar**)

```bash
$ xcode-select --install
```

2. Observa el formato de la orden.

3. Instala XCode.

El símbolo de dólar indica que el comando se debe lanzar desde una consola con
permisos de usuario (este es el caso normal). A continuación del dólar va el 
comando `xcode-select`, y a continuación, la opción en "formato largo" 
`--install``.

[XCode](https://developer.apple.com/xcode/)
incluye el conjunto de herramientas de desarrollo de MacOS. En 
particular, instala el compilador de C/C++ que utilizará el gestor de 
paquetes Homebrew para poder instalar otro software.

### Homebrew

Los gestores de paquetes están presentes en muchos sistemas operativos, 
[incluyendo Windows](https://chocolatey.org/)
y su cometido es el de centralizar la instalación de otros programas. Es muy 
común que los gestores de paquetes tengan una interfaz de línea de comandos.

[Homebrew](https://brew.sh/) es el gestor de paquetes de MacOS _de facto_, 
aunque si estás acostumbrado a usar otro, puedes usar el que te resulte más 
conveniente.

1. Instala Homebrew corriendo el siguiente script.

```bash
$ /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

2. Observa el comando que has introducido y trata de explicar sus partes:

    1. De nuevo, el comando comienza por el símbolo de dólar.
    2. Le sigue el comando `/usr/bin/ruby`, que viene dado por la **ruta completa hasta el programa
`ruby`**.
    3. A continuación viene la opción en "formato corto" `-e` (leído "menos e")
    4. Luego el texto, rodeado por comillas dobles `$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)`.

Las comillas dobles permiten sustituir valores. En particular, un símbolo de 
dólar seguido de un comando entre paréntesis, será sustituido por el resultado 
del comando entre paréntesis.

En este caso, el comando interno descarga de interner un programa en Ruby que
realiza la instalación de Homebrew.

3. Con Hombrew en su sitio, ya podemos instalar el software que usaremos 
durante el curso. Abre una nueva sesión de consola (puedes cerrar esta) y 
ejecuta los siguientes comandos (cada línea es una orden distinta):

```bash
$ brew install python3
$ brew install git
$ brew install zsh
$ brew install antigen
$ brew cask install iterm2
$ brew cask install pycharm
```

Fíjate que has instalado:

* Python 3: la última versión del intérprete.
* Git: el gestor de versiones de código fuente.
* zsh: una shell configurable.
* antigen: un gestor de plug-ins para zsh.
* iTerm2: una nueva y mejorada terminal.
* PyCharm: un entorno de desarrollo para Python.

4. Observa el formato de las instrucciones. En este caso:

    1. La orden `brew`
    2. El subcomando `cask` o la jerarquía de subcomandos `cask install`
    3. Los parámetros `python3`, `git`, `zsh`...

5. Observa la salida de los comandos para encontrar información útil sobre 
cómo configurar cada programa. En particular busca la relacionada con antigen
porque nos hará falta de inmediato. Apúntala o manten esta terminal abierta.

6. Entre los

### ZSH

En lugar de bash, a lo largo del curso usaremos
[zsh](http://zsh.sourceforge.net/), una alternativa compatible con bash y 
altamente personalizable que instalaste durante la ejecución de los comandos 
anteriores. Lo usaremos junto con [antigen](https://github.com/zsh-users/antigen)
que es un gestor de _plug-ins_ para zsh.

1. Termina la instalación de zsh cambiando tu shell por defecto. 

```bash
$ chsh -s $(which zsh)
```

2. ¿Puedes describir el formato de este comando?

3. Ahora vamos a personalizar zsh. Lanza el siguiente comando para editar el 
archivo de configuración de zsh:

```bash
$ charm ~/.zshrc
```

4. Este editor es PyCharm. Úsalo ahora para borrar el contenido del fichero y 
sustitúyelo por el siguiente. Indagaremos más en él en el siguiente capítulo:

```bash
source ~/antigen.zsh

# Load the oh-my-zsh's library.
antigen use oh-my-zsh

# Bundles from the default repo (robbyrussell's oh-my-zsh).
antigen bundle git
antigen bundle pip
antigen bundle command-not-found
antigen bundle osx
antigen bundle virtualenvwrapper
antigen bundle pyenv

# Syntax highlighting bundle.
antigen bundle zsh-users/zsh-syntax-highlighting

# Load the theme.
antigen theme amuse

# Tell Antigen that you're done.
antigen apply
```